<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nexify | Sovereign Protocol</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;800&display=swap');
        body { background: #000; color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; overflow: hidden; height: 100vh; }
        .page { display: none; height: 100vh; overflow-y: auto; padding: 100px 16px 140px 16px; }
        .active-page { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .nx-card { background: #0a0a0a; border: 1px solid #1a1a1a; border-radius: 24px; padding: 20px; }
        .nav-dock { position: fixed; bottom: 20px; left: 10px; right: 10px; height: 80px; background: rgba(10,10,10,0.95); backdrop-filter: blur(20px); border-radius: 40px; border: 1px solid #1a1a1a; display: flex; justify-content: space-around; align-items: center; z-index: 5000; }
        .nav-item { color: #555; text-align: center; cursor: pointer; }
        .nav-item.active { color: #0052ff; }
        .btn-main { background: #0052ff; color: white; font-weight: 800; border-radius: 16px; padding: 14px; width: 100%; text-transform: uppercase; font-size: 10px; }
    </style>
</head>
<body>

    <header class="fixed top-0 inset-x-0 p-5 z-[4000] flex justify-between items-center bg-black/80 backdrop-blur-xl border-b border-white/5">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-[#0052ff] flex items-center justify-center font-black italic">N</div>
            <h1 class="text-[10px] font-black uppercase tracking-widest">Nexify Core</h1>
        </div>
        <button id="connectBtn" onclick="core.connect()" class="px-5 py-2 rounded-xl bg-white text-black text-[10px] font-black uppercase">Sync Wallet</button>
    </header>

    <main>
        <section id="p-home" class="page active-page space-y-4">
            <div class="nx-card">
                <textarea id="castInput" class="w-full bg-transparent text-sm outline-none border-none h-16 resize-none" placeholder="Share to the Base Ledger..."></textarea>
                <button onclick="core.post()" class="bg-[#0052ff] w-full py-2 rounded-xl text-[9px] font-black uppercase mt-2">Post On-Chain</button>
            </div>
            <div id="feed" class="space-y-4"></div>
        </section>

        <section id="p-trade" class="page space-y-4">
            <div class="nx-card text-center bg-gradient-to-b from-blue-900/20 to-transparent">
                <p class="text-[10px] text-blue-500 font-bold uppercase mb-2">Live Market</p>
                <h2 class="text-3xl font-black tracking-tighter">$BTC 98,420</h2>
            </div>
            <div class="grid grid-cols-2 gap-3">
                <button class="btn-main bg-green-600" onclick="alert('Trading initialized...')">Long</button>
                <button class="btn-main bg-red-600" onclick="alert('Trading initialized...')">Short</button>
            </div>
            <div class="nx-card">
                <p class="text-[10px] font-bold text-gray-500 uppercase mb-4">On-Ramp</p>
                <button class="btn-main bg-white/5 border border-white/10 mb-2" onclick="window.open('https://www.coinbase.com/buy-crypto')">Buy with Card</button>
                <button class="btn-main bg-white/5 border border-white/10" onclick="alert('Google Play Gift Card Integration Loading...')">Google Play / Gift Card</button>
            </div>
        </section>

        <section id="p-shop" class="page text-center">
            <div class="mt-20">
                <i class="fa-solid fa-bag-shopping text-5xl text-blue-500 mb-6"></i>
                <h2 class="text-xl font-black uppercase tracking-widest">Sovereign Mall</h2>
                <p class="text-xs text-gray-500 mt-2">Buy from Global Stores using USDC.<br>Coming Soon!</p>
            </div>
        </section>

        <section id="p-vault" class="page space-y-4 text-center">
            <div class="nx-card p-10">
                <p class="text-[10px] text-gray-500 font-bold uppercase mb-2">Total Balance</p>
                <h2 id="balance" class="text-4xl font-black">$0.00</h2>
                <p id="addr" class="text-[8px] font-mono text-blue-500 mt-4 opacity-50 truncate"></p>
            </div>
            <button class="btn-main" onclick="core.connect()">Withdraw Assets</button>
        </section>
    </main>

    <nav class="nav-dock">
        <div onclick="ui.nav('home')" class="nav-item active"><i class="fa-solid fa-house-user"></i><p style="font-size:7px; font-weight:800; margin-top:4px;">HUB</p></div>
        <div onclick="ui.nav('trade')" class="nav-item"><i class="fa-solid fa-shuffle"></i><p style="font-size:7px; font-weight:800; margin-top:4px;">TRADE</p></div>
        <div onclick="ui.nav('shop')" class="nav-item"><i class="fa-solid fa-cart-shopping"></i><p style="font-size:7px; font-weight:800; margin-top:4px;">SHOP</p></div>
        <div onclick="ui.nav('vault')" class="nav-item"><i class="fa-solid fa-vault"></i><p style="font-size:7px; font-weight:800; margin-top:4px;">VAULT</p></div>
    </nav>

    <script>
        const ui = {
            nav(id) {
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
                document.getElementById('p-'+id).classList.add('active-page');
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                event.currentTarget.classList.add('active');
            }
        };

        const core = {
            async connect() {
                if(window.ethereum) {
                    const provider = new ethers.providers.Web3Provider(window.ethereum);
                    const accounts = await provider.send("eth_requestAccounts", []);
                    const balance = await provider.getBalance(accounts[0]);
                    document.getElementById('connectBtn').innerText = accounts[0].substring(0,6)+'...';
                    document.getElementById('addr').innerText = accounts[0];
                    document.getElementById('balance').innerText = ethers.utils.formatEther(balance).substring(0,5) + " ETH";
                    alert("Wallet Linked to Base!");
                } else { alert("Please install Coinbase Wallet."); }
            },
            post() {
                const val = document.getElementById('castInput').value;
                if(!val) return;
                const feed = document.getElementById('feed');
                feed.innerHTML = `<div class="nx-card mb-4"><p class="text-xs text-blue-500 font-bold mb-2 uppercase">Signed Update</p><p class="text-sm font-light">${val}</p></div>` + feed.innerHTML;
                document.getElementById('castInput').value = '';
            }
        };

        window.onload = () => {
            document.getElementById('feed').innerHTML = `<div class="nx-card"><p class="text-sm">Welcome to Nexify. Protocol is Live on Base. Start by linking your wallet.</p></div>`;
        }
    </script>
</body>
</html>
